---
phase: 03-form-optimization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: ["index.html"]
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Form displays exactly 4 fields: Name, Phone, Email (optional), Year Level (optional)"
    - "Tapping phone field shows numeric phone keyboard"
    - "Tapping email field shows email keyboard with @ symbol"
    - "Submit button text reads 'Book Your Free Trial'"
    - "Form submits successfully to Netlify"
  artifacts:
    - path: "index.html"
      provides: "Optimized contact form"
      contains: "autocomplete=\"tel\""
    - path: "index.html"
      provides: "Reduced form fields"
      missing: "studentName"
  key_links:
    - from: "form[name='trial']"
      to: "Netlify Forms"
      via: "hidden input form-name=trial"
      pattern: "name=\"form-name\" value=\"trial\""
    - from: "manualSelectionRow"
      to: "yearLevel select"
      via: "conditional display"
      pattern: "id=\"manualSelectionRow\""
---

# 03-01: Form Field Reduction and Input Optimization

**Objective:** Reduce the contact form from 10 fields to 4 essential fields while adding proper mobile keyboard attributes for improved UX.

**Requirements addressed:** FORM-01, FORM-02, FORM-03, FORM-04

## Context

@.planning/phases/03-form-optimization/03-RESEARCH.md
@.planning/ROADMAP.md

The current form at lines 5313-5411 has:
- 4 hidden fields (MUST KEEP)
- 1 honeypot field (MUST KEEP)
- 6 visible parent/student fields (REDUCE to 2)
- 2 conditional dropdowns in manualSelectionRow (KEEP Year Level only)
- 1 message textarea (REMOVE)
- 2 submit buttons (KEEP both)

## Tasks

<task id="1">
<name>Remove unnecessary form fields</name>
<action>
In index.html, remove the following elements:

1. Remove "Student Details" section entirely (lines 5339-5356):
   - Section label: `<div class="form-section-label">Student Details</div>`
   - Student Name field and wrapper
   - Student Email field and wrapper
   - Student Phone field and wrapper
   - The empty form-group placeholder

2. Remove Subject dropdown from manualSelectionRow (lines 5372-5388):
   - Remove the form-group containing the Subject label and select
   - Keep only the Year Level form-group in manualSelectionRow

3. Remove Message textarea (lines 5391-5394):
   - Remove the entire form-group containing the message textarea

4. Update section label (line 5320):
   - Change "Parent/Guardian Details" to "Your Details"
</action>
<file>index.html</file>
<details>
Lines to remove:
- 5339-5356: Student Details section (18 lines)
- 5372-5388: Subject dropdown form-group (17 lines)
- 5391-5394: Message textarea form-group (4 lines)

Line to modify:
- 5320: Change section label text
</details>
<verify>
Grep for removed field IDs should return no results:
- `grep -c "studentName" index.html` returns 0
- `grep -c "studentEmail" index.html` returns 0
- `grep -c "studentPhone" index.html` returns 0
- `grep -c 'id="subject"' index.html` returns 0
- `grep -c 'id="message"' index.html` returns 0
</verify>
<done>Form contains only Name, Phone, Email, and Year Level visible fields</done>
</task>

<task id="2">
<name>Make Email and Year Level optional</name>
<action>
1. parentEmail input (around line 5328 after task 1 removals):
   - Remove `required` attribute
   - Update label from "Email *" to "Email (optional)"

2. yearLevel select (in manualSelectionRow):
   - Remove `required` attribute
   - Update label from "Year Level *" to "Year Level (optional)"

Note: Year Level is in manualSelectionRow which is conditionally shown. When a package is selected, this row is hidden and values come from the package. When no package is selected, the user can optionally provide year level.
</action>
<file>index.html</file>
<details>
parentEmail: Remove `required`, change label text
yearLevel: Remove `required`, change label text

The subject dropdown removal in Task 1 means manualSelectionRow now only contains Year Level.
</details>
<verify>
- `grep "parentEmail.*required" index.html` returns 0 results
- `grep "yearLevel.*required" index.html` returns 0 results
- `grep "Email (optional)" index.html` returns 1 result
- `grep "Year Level (optional)" index.html` returns 1 result
</verify>
<done>Email and Year Level fields are optional with updated labels</done>
</task>

<task id="3">
<name>Add mobile keyboard optimization attributes</name>
<action>
Add the following attributes to form inputs:

1. parentName input:
   ```html
   <input type="text" id="parentName" name="parentName" class="form-input" required
          placeholder="Your full name"
          autocomplete="name"
          autocorrect="off">
   ```

2. parentEmail input:
   ```html
   <input type="email" id="parentEmail" name="parentEmail" class="form-input"
          placeholder="your@email.com"
          autocomplete="email"
          inputmode="email"
          autocapitalize="off"
          autocorrect="off">
   ```

3. parentPhone input:
   ```html
   <input type="tel" id="parentPhone" name="parentPhone" class="form-input" required
          placeholder="04XX XXX XXX"
          autocomplete="tel"
          inputmode="tel">
   ```

Also update placeholders to be friendlier:
- parentName: "Your full name" (was "Parent's full name")
- parentEmail: "your@email.com" (was "parent@email.com")
</action>
<file>index.html</file>
<details>
These attributes trigger proper mobile keyboards:
- inputmode="tel" -> numeric phone pad
- inputmode="email" -> keyboard with @ symbol
- autocomplete -> enables browser autofill
- autocorrect/autocapitalize off -> prevents mangling of names/emails on iOS
</details>
<verify>
- `grep 'autocomplete="name"' index.html` returns 1 result
- `grep 'autocomplete="tel"' index.html` returns 1 result
- `grep 'autocomplete="email"' index.html` returns 1 result
- `grep 'inputmode="tel"' index.html` returns 1 result
- `grep 'inputmode="email"' index.html` returns 1 result
</verify>
<done>All form inputs have proper autocomplete and inputmode attributes for mobile keyboards</done>
</task>

<task id="4">
<name>Update submit button text and enhance styling</name>
<action>
1. Update button text (line 5397):
   - Change `<span id="submitBtnText">Book Free Trial</span>`
   - To `<span id="submitBtnText">Book Your Free Trial</span>`

2. Enhance .btn-trial CSS (around line 4275):
   - Add `min-height: 52px;` for prominence (exceeds 44px minimum)
   - Add `font-weight: 600;` for better visibility

   Updated CSS:
   ```css
   .btn-trial {
       background: var(--purple-700) !important;
       color: white !important;
       width: 100%;
       min-height: 52px;
       padding: 1rem 2rem;
       font-size: 1.1rem;
       font-weight: 600;
   }
   ```
</action>
<file>index.html</file>
<details>
Button text change: "Book Free Trial" -> "Book Your Free Trial"
CSS enhancement: Add min-height and font-weight for mobile prominence
</details>
<verify>
- `grep "Book Your Free Trial" index.html` returns 1 result
- `grep "min-height: 52px" index.html` returns at least 1 result
</verify>
<done>Submit button has "Book Your Free Trial" text and enhanced mobile styling</done>
</task>

## Verification

After all tasks complete, verify:

- [ ] Form visually shows exactly 4 fields (Name, Phone, Email, Year Level)
- [ ] Hidden fields preserved: `grep 'name="form-name"' index.html` finds the field
- [ ] Honeypot preserved: `grep 'name="bot-field"' index.html` finds the field
- [ ] Both submit buttons preserved: `grep 'trialSubmitBtn\|paySubmitBtn' index.html` finds both
- [ ] manualSelectionRow still exists: `grep 'manualSelectionRow' index.html` finds it
- [ ] No removed fields: studentName, studentEmail, studentPhone, subject (as id), message (as id) all absent

## Success Criteria

1. **FORM-01:** Form has maximum 4 visible fields (Name required, Phone required, Email optional, Year Level optional)
2. **FORM-02:** Inputs have correct types and inputmode attributes for mobile keyboards
3. **FORM-03:** Submit button is large (52px), visible, and says "Book Your Free Trial"
4. **FORM-04:** Form reachability maintained (sticky CTA from Phase 2)
5. **Netlify Integration:** Hidden fields and honeypot preserved for form submission

## Output

After completion, create `.planning/phases/03-form-optimization/03-01-SUMMARY.md`
