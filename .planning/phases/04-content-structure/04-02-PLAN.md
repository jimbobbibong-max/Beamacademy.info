---
phase: 04-content-structure
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - index.html
autonomous: true

must_haves:
  truths:
    - "Hamburger menu opens smoothly with animation (not instant display:none toggle)"
    - "Hamburger icon transforms to X when menu is open"
    - "Menu closes when tapping outside the menu area"
    - "Pricing cards do not cause horizontal scroll on 320px screens"
  artifacts:
    - path: "index.html"
      provides: "Animated hamburger menu and 320px-safe pricing"
      contains: "cubic-bezier"
  key_links:
    - from: ".mobile-toggle"
      to: ".mobile-nav"
      via: "CSS transition + JS toggle"
      pattern: "transition.*0\\.25s"
    - from: ".pricing-tier-new"
      to: "320px styles"
      via: "media query"
      pattern: "@media.*max-width.*400px"
---

<objective>
Add smooth hamburger menu animation and fix pricing display on small screens.

Purpose: Current hamburger menu uses display:none toggle which is jarring. Research recommends 200-300ms CSS transforms for smooth feel. Pricing cards may overflow on 320px screens (iPhone SE) due to padding.

Output: Animated hamburger menu with transform transitions and 320px-safe pricing styles.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-content-structure/04-RESEARCH.md
@index.html (lines 467-498 for mobile toggle/nav CSS, lines 5553-5561 for JS)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add smooth hamburger menu animation</name>
  <files>index.html</files>
  <action>
1. Update the .mobile-toggle span styles (around line 478-484) to add transition for the hamburger-to-X animation:

   Replace existing:
   ```css
   .mobile-toggle span {
       display: block;
       width: 24px;
       height: 2px;
       background: var(--gray-700);
       transition: all 0.3s ease;
   }
   ```

   With:
   ```css
   .mobile-toggle span {
       display: block;
       width: 24px;
       height: 2.5px;
       background: var(--gray-700);
       border-radius: 2px;
       transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
       transform-origin: center;
   }

   /* Hamburger to X transformation */
   .mobile-toggle[aria-expanded="true"] span:nth-child(1) {
       transform: translateY(7.5px) rotate(45deg);
   }

   .mobile-toggle[aria-expanded="true"] span:nth-child(2) {
       opacity: 0;
       transform: scaleX(0);
   }

   .mobile-toggle[aria-expanded="true"] span:nth-child(3) {
       transform: translateY(-7.5px) rotate(-45deg);
   }
   ```

2. Update the .mobile-nav styles (around line 486-498) to use transform instead of display:none:

   Replace existing:
   ```css
   .mobile-nav {
       display: none;
       position: fixed;
       top: 72px;
       left: 0;
       right: 0;
       background: white;
       padding: 24px;
       box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
       z-index: 999;
   }

   .mobile-nav.active { display: block; }
   ```

   With:
   ```css
   .mobile-nav {
       position: fixed;
       top: 72px;
       left: 0;
       right: 0;
       background: white;
       padding: 24px;
       box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
       z-index: 999;
       transform: translateY(-20px);
       opacity: 0;
       visibility: hidden;
       transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
   }

   .mobile-nav.active {
       transform: translateY(0);
       opacity: 1;
       visibility: visible;
   }
   ```

3. Update JavaScript (around line 5553-5561) to add close-on-outside-click and escape key support. After the existing mobile menu toggle code, add:

   ```javascript
   // Close mobile menu on outside click
   document.addEventListener('click', (e) => {
       const isClickInside = mobileNav.contains(e.target) || mobileToggle.contains(e.target);
       if (!isClickInside && mobileNav.classList.contains('active')) {
           mobileNav.classList.remove('active');
           mobileToggle.setAttribute('aria-expanded', 'false');
       }
   });

   // Close mobile menu on Escape key
   document.addEventListener('keydown', (e) => {
       if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
           mobileNav.classList.remove('active');
           mobileToggle.setAttribute('aria-expanded', 'false');
           mobileToggle.focus();
       }
   });
   ```

Note: The hamburger button already has 3 span elements (from line 4359-4364). The aria-expanded attribute is already being toggled by existing JS.
  </action>
  <verify>
Search for "cubic-bezier" in mobile-toggle CSS - should exist.
Search for "visibility: hidden" in mobile-nav CSS - should exist.
Search for "Escape" in JavaScript - should exist.
  </verify>
  <done>Hamburger menu animates smoothly with 250ms transitions, icon transforms to X, closes on outside click and Escape key.</done>
</task>

<task type="auto">
  <name>Task 2: Add 320px responsive styles for pricing</name>
  <files>index.html</files>
  <action>
Find the pricing styles section (search for ".pricing-tier-new" or around line 2200-2400) and add a media query for 320px-400px screens. Add this AFTER the existing pricing styles:

```css
/* 320px small screen pricing fix */
@media (max-width: 400px) {
    .pricing-tier-new {
        padding: 24px 16px;
        border-radius: 12px;
    }

    .tier-name {
        font-size: 1.25rem;
    }

    .tier-price-main .price-amount {
        font-size: 2rem;
    }

    .tier-price-main .price-from,
    .tier-price-main .price-period {
        font-size: 0.85rem;
    }

    .tier-packages li {
        font-size: 0.9rem;
        padding: 10px 12px;
    }

    .tier-packages .pkg-name {
        font-size: 0.9rem;
    }

    .tier-packages .pkg-price {
        font-size: 0.85rem;
    }

    .tier-packages .pkg-save {
        font-size: 0.7rem;
        padding: 2px 6px;
    }

    .tier-cta {
        font-size: 0.9rem;
        padding: 14px 20px;
    }

    /* All Access hero card */
    .all-access-hero {
        padding: 20px 16px;
    }

    .all-access-hero-title {
        font-size: 1.25rem;
    }

    .all-access-price {
        font-size: 1.5rem;
    }
}
```

This ensures:
- Reduced horizontal padding (32px -> 16px) to prevent overflow
- Smaller font sizes that fit without wrapping
- Smaller save badges that don't cause overflow
- All Access card also scales down
  </action>
  <verify>
Search for "@media (max-width: 400px)" in pricing section - should exist.
Search for "320px small screen pricing" comment - should exist.
  </verify>
  <done>Pricing cards display cleanly on 320px screens without horizontal scroll, fonts and padding reduced proportionally.</done>
</task>

</tasks>

<verification>
1. Open index.html in browser at mobile size (375px)
2. Tap hamburger icon - should animate open with slide-down effect
3. Hamburger icon should transform to X shape
4. Tap outside menu - should close smoothly
5. Open menu, press Escape - should close and focus returns to hamburger
6. Resize to 320px (iPhone SE)
7. Scroll to pricing section - no horizontal scroll should appear
8. All pricing cards should display without text overflow
9. All Access banner should fit within viewport
</verification>

<success_criteria>
- Hamburger menu opens/closes with smooth 250ms animation
- Hamburger icon transforms to X when open
- Menu closes on outside click
- Menu closes on Escape key
- Pricing section has no horizontal scroll at 320px
- All pricing text is readable without overflow
</success_criteria>

<output>
After completion, create `.planning/phases/04-content-structure/04-02-SUMMARY.md`
</output>
