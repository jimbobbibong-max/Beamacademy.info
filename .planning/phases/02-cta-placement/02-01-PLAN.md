---
phase: 02-cta-placement
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [index.html]
autonomous: true

must_haves:
  truths:
    - "User sees Book Free Trial button immediately on page load (no scroll)"
    - "User sees sticky CTA bar after scrolling past hero section"
    - "User can tap phone number to call directly from any point on page"
  artifacts:
    - path: "index.html"
      provides: "Sticky CTA bar HTML structure"
      contains: "sticky-cta-bar"
    - path: "index.html"
      provides: "Sticky CTA bar CSS styles"
      contains: ".sticky-cta-bar"
    - path: "index.html"
      provides: "IntersectionObserver for sticky bar visibility"
      contains: "sticky-cta-bar.*visible"
  key_links:
    - from: "IntersectionObserver JS"
      to: ".sticky-cta-bar element"
      via: "classList.toggle('visible')"
      pattern: "stickyBar\\.classList\\.toggle.*visible"
    - from: "Sticky bar phone link"
      to: "tel: protocol"
      via: "href attribute"
      pattern: "href=\"tel:\\+61491791447\""
    - from: "Sticky bar book button"
      to: "#contact section"
      via: "anchor link"
      pattern: "href=\"#contact\""
---

<objective>
Implement above-fold hero CTA optimization and sticky bottom CTA bar for mobile.

Purpose: Ensure the primary conversion action (Book Free Trial) is always visible and accessible on mobile, whether user just landed or has scrolled down the page.

Output:
- Hero CTA verified visible without scrolling on mobile viewports
- Sticky bottom CTA bar that appears when hero scrolls out of view
- Click-to-call phone number accessible in sticky bar
- Floating phone button repositioned when sticky bar is visible
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-cta-placement/02-CONTEXT.md
@.planning/phases/02-cta-placement/02-RESEARCH.md
@.planning/phases/01-emergency-viewport-fix/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify and Optimize Hero CTA for Mobile</name>
  <files>index.html</files>
  <action>
  Verify the hero section CTA ("Start Free Trial") is visible above the fold on mobile viewports.

  1. Check existing hero CSS at 768px and 600px breakpoints (around lines 2911-3010)
  2. If hero-buttons or btn-primary needs mobile optimization, add rules to ensure:
     - Buttons stack vertically on mobile (flex-direction: column)
     - Primary button is full width for easy tapping
     - Button has sufficient padding (16px 24px) and font-size (1.1rem)

  The existing hero section is at lines 4278-4309. The CTA button is:
  ```html
  <a href="#contact" class="btn btn-primary">Start Free Trial â†’</a>
  ```

  Add mobile-specific CSS after the existing .hero responsive rules (around line 2950) in the @media (max-width: 768px) block if not already present:

  ```css
  .hero-buttons {
      flex-direction: column;
      gap: 12px;
  }

  .hero-buttons .btn {
      width: 100%;
      justify-content: center;
  }

  .hero-buttons .btn-primary {
      padding: 16px 24px;
      font-size: 1.1rem;
  }
  ```

  Note: Only add rules that don't already exist. Check existing mobile styles first.
  </action>
  <verify>
  Use Chrome DevTools device mode at 375px width (iPhone 12/13) and verify:
  - "Start Free Trial" button visible without scrolling
  - Button spans full width of container
  - Button text is readable (1.1rem minimum)
  </verify>
  <done>Hero CTA button visible above fold on 375px mobile viewport without scrolling</done>
</task>

<task type="auto">
  <name>Task 2: Add Sticky CTA Bar HTML and CSS</name>
  <files>index.html</files>
  <action>
  Add the sticky CTA bar HTML and CSS styles.

  **HTML:** Insert before the closing `</main>` tag (line 5328), after the CTA section:

  ```html
  <!-- Sticky Mobile CTA Bar -->
  <div class="sticky-cta-bar" id="sticky-cta-bar" aria-hidden="true">
      <div class="sticky-cta-container">
          <a href="tel:+61491791447" class="sticky-cta-phone" aria-label="Call BEAM Academy">
              <span aria-hidden="true">ðŸ“ž</span>
              <span class="sticky-cta-phone-text">Call</span>
          </a>
          <a href="#contact" class="sticky-cta-button">Book Free Trial</a>
      </div>
  </div>
  ```

  **CSS:** Insert after the `.floating-btn-tooltip` styles (around line 2350), before the Footer styles:

  ```css
  /* Sticky Mobile CTA Bar */
  .sticky-cta-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 950;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-top: 1px solid var(--gray-200);
      padding: 12px 16px;
      padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px));
      transform: translateY(100%);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
  }

  .sticky-cta-bar.visible {
      transform: translateY(0);
  }

  .sticky-cta-container {
      display: flex;
      gap: 12px;
      max-width: 400px;
      margin: 0 auto;
  }

  .sticky-cta-button {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 48px;
      padding: 14px 24px;
      background: linear-gradient(135deg, var(--purple-600), var(--purple-700));
      color: white;
      font-family: var(--font-display);
      font-weight: 600;
      font-size: 1rem;
      border-radius: 100px;
      text-decoration: none;
      box-shadow: 0 4px 14px rgba(124, 58, 237, 0.4);
      transition: all 0.2s ease;
  }

  .sticky-cta-button:hover {
      background: linear-gradient(135deg, var(--purple-700), var(--purple-800));
      transform: translateY(-1px);
  }

  .sticky-cta-phone {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      min-width: 48px;
      min-height: 48px;
      padding: 14px 16px;
      background: var(--gray-100);
      color: var(--purple-700);
      font-family: var(--font-display);
      font-weight: 600;
      font-size: 1rem;
      border-radius: 100px;
      text-decoration: none;
      transition: all 0.2s ease;
  }

  .sticky-cta-phone:hover {
      background: var(--purple-100);
  }

  /* Hide sticky bar on desktop */
  @media (min-width: 769px) {
      .sticky-cta-bar {
          display: none;
      }
  }

  /* Reposition floating contact button when sticky bar is visible */
  .sticky-cta-bar.visible ~ .floating-contact {
      bottom: 90px;
      transition: bottom 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  ```

  Note: The z-index of 950 ensures the bar appears above the floating button (900) but below the nav (1000).
  </action>
  <verify>
  1. Check HTML structure exists with correct classes and aria attributes
  2. Verify CSS loads without errors (no console errors)
  3. In DevTools, manually add "visible" class to .sticky-cta-bar and confirm it slides up
  </verify>
  <done>Sticky CTA bar HTML and CSS added, bar animates into view when "visible" class is toggled</done>
</task>

<task type="auto">
  <name>Task 3: Add IntersectionObserver for Sticky Bar Visibility</name>
  <files>index.html</files>
  <action>
  Add JavaScript to show/hide the sticky bar based on scroll position using IntersectionObserver.

  **JavaScript:** Add to the existing script section, after the floating button footer observer (around line 5570):

  ```javascript
  // Sticky CTA bar visibility - show when hero scrolls out of view
  (function() {
      const hero = document.querySelector('.hero');
      const stickyBar = document.getElementById('sticky-cta-bar');

      if (!hero || !stickyBar) return;

      const stickyObserver = new IntersectionObserver(
          ([entry]) => {
              const isVisible = !entry.isIntersecting;
              stickyBar.classList.toggle('visible', isVisible);
              stickyBar.setAttribute('aria-hidden', !isVisible);
          },
          {
              threshold: 0,
              rootMargin: '-100px 0px 0px 0px'
          }
      );

      stickyObserver.observe(hero);
  })();
  ```

  The rootMargin of -100px means the bar appears slightly before the hero fully exits the viewport, providing a smoother user experience.

  **Important:** This follows the same IntersectionObserver pattern already used in the codebase (see lines 5450 and 5563).
  </action>
  <verify>
  1. Open page in browser
  2. Scroll down past the hero section
  3. Sticky bar should slide in from bottom
  4. Scroll back up to hero - sticky bar should slide out
  5. Check floating phone button moves up when sticky bar is visible
  </verify>
  <done>Sticky bar appears/disappears based on hero visibility, floating button repositions correctly</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **Mobile viewport test (Chrome DevTools)**
   - Set to iPhone 12/13 (390px width)
   - Page load: "Start Free Trial" button visible without scroll
   - Scroll down: Sticky bar slides in after hero exits
   - Sticky bar has "Call" button (left) and "Book Free Trial" button (right)
   - Floating phone button moves up when sticky bar visible

2. **Click-to-call test**
   - Tap phone icon in sticky bar
   - Should open phone dialer with +61491791447

3. **Anchor link test**
   - Tap "Book Free Trial" in sticky bar
   - Should scroll to contact form section

4. **Desktop behavior**
   - At 800px+ width, sticky bar should not appear
   - Floating phone button stays in original position
</verification>

<success_criteria>
Phase 2 requirements met:
- [CTA-01] Primary "Book Free Trial" CTA visible in hero without scrolling on mobile
- [CTA-02] Sticky floating CTA bar visible on mobile during scroll (appears after hero exits)
- [CTA-03] Click-to-call button in sticky bar, functional with tel: protocol

Observable behaviors:
- User sees "Book Free Trial" immediately on mobile page load
- User sees sticky CTA bar when scrolling past hero
- User can call by tapping phone icon from any scroll position
</success_criteria>

<output>
After completion, create `.planning/phases/02-cta-placement/02-01-SUMMARY.md` following the summary template.
</output>
